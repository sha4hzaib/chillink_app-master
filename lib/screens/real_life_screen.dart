import 'package:flutter/material.dart';
import 'story_screen.dart';

class RealLifeScreen extends StatefulWidget {
  @override
  _RealLifeScreenState createState() => _RealLifeScreenState();
}

class _RealLifeScreenState extends State<RealLifeScreen> {
  final List<Map<String, String>> stories = [
    {
      'title': 'The Real Ghost Hunter',
      'description': 'A true story of a ghost hunter’s experiences.',
      'image': 'assets/images/real_ghost_hunter.jpg',
      'content': '''Tom Parker had been hunting ghosts for over a decade. What started as a curiosity in his early twenties had become an obsession. Armed with EMF meters, spirit boxes, and infrared cameras, he had explored some of the most haunted places in the country. But none of his previous experiences prepared him for the house on Sycamore Street, a place where even seasoned investigators refused to go.

The house had a tragic history. Decades ago, a man named Richard Benson had lived there with his family. One night, in a fit of madness, Benson had murdered his wife and two children before hanging himself in the attic. Since then, the house had stood abandoned, slowly decaying. Locals claimed to hear screams in the dead of night, and some said they had seen shadowy figures in the windows. The bravest of thrill-seekers would try to stay the night, but none lasted more than a few hours.

Tom was different. He didn’t scare easily, and he prided himself on his methodical approach. The stories of Sycamore Street fascinated him, and he knew he had to investigate. He made plans to spend an entire night in the house, alone. Armed with his equipment, he arrived just as the sun was setting, the sky a deep purple as dusk settled in.

The moment he stepped inside, Tom felt it—a heavy, oppressive presence, like the air was thicker here. He set up his equipment in the living room, where most of the paranormal activity was reported. The house was eerily quiet, save for the occasional creak of the old floorboards. Hours passed with nothing more than a few flickers on his EMF meter. Tom began to think the stories were just that—stories. 

Then, just after midnight, everything changed. The temperature in the room dropped sharply, and the EMF meter spiked into the red. Tom grabbed his spirit box, flipping it on. The static-filled hum filled the room, and for a few moments, nothing happened. Then, a voice broke through—a single word, clear as day: "Leave." Tom’s heart raced, but he wasn’t about to be scared off by one word.

"Who are you?" Tom asked, his voice steady despite the adrenaline coursing through him. The spirit box crackled again, this time with two words: "He’s here." Tom’s skin prickled. "Who’s here?" he asked, but the spirit box fell silent, the temperature in the room continuing to plummet. Tom glanced around, feeling eyes on him though he knew he was alone. Or at least, he thought he was.

Suddenly, there was a loud bang from upstairs, followed by the unmistakable sound of footsteps. Heavy, deliberate, and coming down the stairs. Tom turned towards the staircase, his flashlight cutting through the dark, but he saw nothing. The footsteps, however, continued, getting closer. Closer. And then they stopped. Right behind him.

Tom spun around, but the room was empty. His breath came in short gasps as he tried to calm himself. He wasn’t afraid, not yet. But then, something happened that shook him to his core. The spirit box, still crackling with static, spoke again. This time, it wasn’t a single voice but many, all talking at once, overlapping, their words impossible to make out. And then, through the cacophony, one voice screamed above the others: "Get out!"

Without thinking, Tom grabbed his equipment and bolted for the door. As he reached the threshold, he heard the footsteps again, running after him. He didn’t stop until he was outside, the cold night air filling his lungs. The house loomed behind him, silent once more. Tom looked back, his heart pounding. For the first time in his life, he was genuinely afraid. He had always thought of himself as a skeptic, a man of science. But what he had just experienced in that house on Sycamore Street? That was something different. Something real.

Tom never went back to that house. He never spoke about that night to anyone. But from that moment on, he knew that some places—some spirits—were not to be trifled with. And every time he drove past Sycamore Street, he couldn’t shake the feeling that something, or someone, was watching him, waiting for him to return.
'''
    },
    {
      'title': 'Creepy Experiences',
      'description': 'Real-life encounters that will send chills down your spine.',
      'image': 'assets/images/creepy_experiences.jpg',
      'content': '''It was a cold autumn night when Jenna had her first truly creepy experience. She had just moved into a new apartment on the outskirts of town, an old building with creaky floors and outdated fixtures. Despite its age, it was cozy and affordable, so she didn’t mind the occasional draft or odd noises. But there was something about the place that didn’t sit right with her. From the moment she moved in, she felt as though she was being watched, though she brushed it off as nerves from the big life change.

One night, as Jenna was getting ready for bed, she heard a faint knocking sound. It wasn’t coming from the door, but from within the walls. She paused, listening carefully, but the sound faded away. Shrugging it off as the building settling, she went to bed. But the next night, it happened again—this time louder, and more persistent. The knocking seemed to move, traveling from one side of her apartment to the other, as though someone—or something—was making its way through the walls.

Jenna tried to sleep, but the knocking kept her awake. The next morning, she asked her neighbors if they had heard anything strange, but they all shook their heads. "Old buildings make weird noises," one of them said with a smile. "Don’t worry about it." But Jenna couldn’t shake the feeling that something was off.

A few nights later, things escalated. Jenna was lying in bed when she heard the knocking again, but this time, it was accompanied by a faint whispering. She couldn’t make out the words, but the sound chilled her to the bone. She pulled the covers up to her chin, trying to convince herself that it was just her imagination. But the whispers grew louder, more insistent, until she could no longer ignore them. 

Terrified, Jenna grabbed her phone and turned on the flashlight, shining it around the room. The light fell on her closet door, which was slightly ajar. She had closed it before going to bed, she was sure of it. With trembling hands, she got up and walked towards the door. Slowly, she reached out and pushed it shut, her heart racing. Just as the door clicked shut, the knocking and whispering stopped. The room was silent once more.

The next day, Jenna considered moving out, but she had just signed a lease and didn’t have the money to break it. Instead, she tried to ignore the strange occurrences, hoping they would stop on their own. For a few days, things were quiet. No knocking, no whispers. Jenna started to relax, thinking that maybe it had all been in her head.

But then, one night, she woke up to the sound of her bedroom door creaking open. She froze, her eyes wide in the dark. The door had been locked. Slowly, it swung open, and in the dim light from the streetlamp outside, Jenna saw a shadowy figure standing in the doorway. It was tall and thin, with long limbs and hollow eyes. It didn’t move, just stood there, watching her. Jenna’s breath caught in her throat as she lay completely still, too terrified to scream or move.

For what felt like hours, the figure remained in the doorway, motionless. Jenna squeezed her eyes shut, praying it would go away. When she finally dared to open them again, the figure was gone, and the door was closed as if nothing had happened.

The next morning, Jenna packed her bags and left. She didn’t tell anyone what had happened; who would believe her? All she knew was that she couldn’t stay in that apartment another night. She found a new place to live and never looked back. But even now, years later, she sometimes wakes up in the middle of the night, certain she can hear faint knocking and whispers coming from the walls. And every time she passes an open door, she can’t help but glance at the shadows, wondering if something is standing there, watching her.
'''
    },
  ];

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text('Real-Life Stories')),
      body: SafeArea(
        child: Padding(
          padding: const EdgeInsets.all(10.0),
          child: ListView.builder(
            itemCount: stories.length,
            itemBuilder: (context, index) {
              final story = stories[index];
              return Padding(
                padding: const EdgeInsets.only(bottom: 12.0),
                child: Card(
                  color: Colors.black38,
                  shape: StadiumBorder(),
                  elevation: 8,
                  child: ListTile(
                    onTap: () {
                      Navigator.push(
                        context,
                        MaterialPageRoute(
                          builder: (context) => StoryScreen(
                            title: story['title']!,
                            imagePath: story['image']!,
                            content: story['content']!,
                          ),
                        ),
                      );
                    },
                    leading: Image.asset(
                      story['image']!,
                      width: 50,
                      height: 50,
                      fit: BoxFit.cover,
                    ),
                    title: Text(
                      story['title']!,
                      style: TextStyle(
                        fontSize: 18,
                        fontWeight: FontWeight.bold,
                        color: Colors.white,
                      ),
                    ),
                    subtitle: Padding(
                      padding: const EdgeInsets.only(top: 8.0),
                      child: Text(
                        story['description']!,
                        style: TextStyle(
                          fontSize: 14,
                          color: Colors.grey[400],
                        ),
                      ),
                    ),
                    contentPadding: const EdgeInsets.all(16.0),
                  ),
                ),
              );
            },
          ),
        ),
      ),
    );
  }
}
